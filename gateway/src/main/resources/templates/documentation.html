<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Documentaci贸n - TFG Darquier Tom谩s</title>
    <link rel="stylesheet" th:href="@{/css/styles.css}">
    <link rel="stylesheet" th:href="@{/css/documentation.css}">
</head>
<body>
<header>
    <nav>
        <a href="/" class="home-icon"></a>
        <button class="active">Documentaci贸n</button>
        <button onclick="window.location.href='/guide'">Gu铆a de Uso</button>
        <button onclick="window.location.href='/profile'">Perfil</button>
        <button class="logout">Cerrar Sesi贸n</button>
    </nav>
</header>

<div class="doc-container">
    <aside class="doc-sidebar">
        <div class="components-nav">
            <h2>Componentes</h2>
            <ul>
                <li class="expandable">
                    <span>Usuarios</span>
                    <ul>
                        <li><a href="#usuarios-composicion">Composici贸n</a></li>
                        <li><a href="#usuarios-persistencia">Persistencia</a></li>
                        <li><a href="#usuarios-compatibilidad">Compatibilidad</a></li>
                    </ul>
                </li>
                <li class="expandable">
                    <span>Carrito</span>
                    <ul>
                        <li><a href="#carrito-composicion">Composici贸n</a></li>
                        <li><a href="#carrito-persistencia">Persistencia</a></li>
                        <li><a href="#carrito-compatibilidad">Compatibilidad</a></li>
                    </ul>
                </li>
                <li class="expandable">
                    <span>rdenes</span>
                    <ul>
                        <li><a href="#ordenes-composicion">Composici贸n</a></li>
                        <li><a href="#ordenes-persistencia">Persistencia</a></li>
                        <li><a href="#ordenes-compatibilidad">Compatibilidad</a></li>
                    </ul>
                </li>
                <li class="expandable">
                    <span>Env铆os</span>
                    <ul>
                        <li><a href="#envios-composicion">Composici贸n</a></li>
                        <li><a href="#envios-persistencia">Persistencia</a></li>
                        <li><a href="#envios-compatibilidad">Compatibilidad</a></li>
                    </ul>
                </li>
                <li class="expandable">
                    <span>Notificaciones</span>
                    <ul>
                        <li><a href="#notificaciones-composicion">Composici贸n</a></li>
                        <li><a href="#notificaciones-persistencia">Persistencia</a></li>
                        <li><a href="#notificaciones-compatibilidad">Compatibilidad</a></li>
                    </ul>
                </li>
            </ul>
        </div>
    </aside>
    <main class="doc-content">
        <div class="doc-header">
            <h1>Documentaci贸n</h1>
            <div class="search-bar">
                <input type="text" placeholder="Buscar en la documentaci贸n...">
            </div>
        </div>

        <article class="doc-article">
            <section id="usuarios">
                <h2>Componente de Usuarios</h2>
                <div id="usuarios-composicion" class="subsection">
                    <h3>Composici贸n</h3>
                    <p>El componente de usuarios gestiona la autenticaci贸n y autorizaci贸n de los usuarios en el sistema. Implementa JWT para la seguridad y manejo de sesiones. Incluye funcionalidades como registro, inicio de sesi贸n, recuperaci贸n de contrase帽a y gesti贸n de perfiles.</p>
                    <div class="tech-icon">
                        <img src="/images/spring-security-icon.png" alt="Spring Security">
                    </div>
                </div>
                <div id="usuarios-persistencia" class="subsection">
                    <h3>Persistencia</h3>
                    <p>Los datos de usuarios se almacenan en una base de datos PostgreSQL. Se utiliza JPA/Hibernate para el mapeo objeto-relacional. La estructura incluye tablas para informaci贸n b谩sica, roles y permisos.</p>
                    <div class="tech-icon">
                        <img src="/images/postgresql-icon.png" alt="PostgreSQL">
                    </div>
                </div>
                <div id="usuarios-compatibilidad" class="subsection">
                    <h3>Compatibilidad</h3>
                    <p>Este componente es compatible con todos los dem谩s microservicios del sistema. Se integra especialmente con el sistema de notificaciones para alertas de seguridad y el componente de 贸rdenes para la gesti贸n de compras.</p>
                </div>
            </section>

            <section id="carrito">
                <h2>Componente de Carrito</h2>
                <div id="carrito-composicion" class="subsection">
                    <h3>Composici贸n</h3>
                    <p>Gestiona el carrito de compras temporal de cada usuario. Implementa funcionalidades de agregar/eliminar productos, actualizar cantidades y calcular totales en tiempo real.</p>
                    <div class="tech-icon">
                        <img src="/images/redis-icon.png" alt="Redis">
                    </div>
                </div>
                <div id="carrito-persistencia" class="subsection">
                <div class="subsection">
                    <h3>Persistencia</h3>
                    <p>Utiliza Redis como almacenamiento en cach茅 para mantener el estado del carrito. Los datos se persisten temporalmente y se sincronizan con el servicio de 贸rdenes al finalizar la compra.</p>
                </div>
                <div id="carrito-compatibilidad" class="subsection">
                <div class="subsection">
                    <h3>Compatibilidad</h3>
                    <p>Se integra con el cat谩logo de productos, el sistema de usuarios para la personalizaci贸n, y el servicio de 贸rdenes para el proceso de checkout.</p>
                </div>
            </section>

            <section id="ordenes">
                <h2>Componente de rdenes</h2>
                <div id="ordenes-composicion" class="subsection">
                <div class="subsection">
                    <h3>Composici贸n</h3>
                    <p>Maneja el ciclo de vida completo de las 贸rdenes, desde su creaci贸n hasta su finalizaci贸n. Incluye gesti贸n de estados, validaci贸n de inventario y procesamiento de pagos.</p>
                </div>
                <div id="ordenes-persistencia" class="subsection">
                <div class="subsection">
                    <h3>Persistencia</h3>
                    <p>Implementa una base de datos MongoDB para almacenar el historial de 贸rdenes y sus estados. Mantiene registros detallados de cada transacci贸n y cambio de estado.</p>
                    <div class="tech-icon">
                        <img src="/images/mongodb-icon.png" alt="MongoDB">
                    </div>
                </div>
                <div id="ordenes-compatibilidad" class="subsection">
                <div class="subsection">
                    <h3>Compatibilidad</h3>
                    <p>Se comunica con los servicios de usuarios, env铆os y notificaciones para coordinar el proceso completo de la orden.</p>
                </div>
            </section>

            <section id="envios">
                <h2>Componente de Env铆os</h2>
                <div id="envios-composicion" class="subsection">
                <div class="subsection">
                    <h3>Composici贸n</h3>
                    <p>Gestiona la log铆stica de env铆os, incluyendo c谩lculo de costos, seguimiento de paquetes y coordinaci贸n con servicios de mensajer铆a externos.</p>
                </div>
                <div id="envios-persistencia" class="subsection">
                <div class="subsection">
                    <h3>Persistencia</h3>
                    <p>Utiliza MySQL para almacenar informaci贸n de env铆os, rutas y estados de entrega. Mantiene un registro hist贸rico de todas las operaciones log铆sticas.</p>
                    <div class="tech-icon">
                        <img src="/images/mysql-icon.png" alt="MySQL">
                    </div>
                </div>
                <div id="envios-compatibilidad" class="subsection">
                <div class="subsection">
                    <h3>Compatibilidad</h3>
                    <p>Se integra con el sistema de 贸rdenes y notificaciones para mantener actualizados a los usuarios sobre el estado de sus env铆os.</p>
                </div>
            </section>

            <section id="notificaciones">
                <h2>Componente de Notificaciones</h2>
                <div id="notificaciones-composicion" class="subsection">
                <div class="subsection">
                    <h3>Composici贸n</h3>
                    <p>Sistema centralizado de notificaciones que soporta m煤ltiples canales: email, SMS, y notificaciones push. Gestiona templates y preferencias de usuario.</p>
                </div>
                <div id="notificaciones-persistencia" class="subsection">
                <div class="subsection">
                    <h3>Persistencia</h3>
                    <p>Implementa RabbitMQ para la gesti贸n de colas de mensajes y MongoDB para almacenar hist贸ricos de notificaciones y templates.</p>
                    <div class="tech-icon">
                        <img src="/images/rabbitmq-icon.png" alt="RabbitMQ">
                    </div>
                </div>
                <div id="notificaciones-compatibilidad" class="subsection">
                    <h3>Compatibilidad</h3>
                    <p>Compatible con todos los componentes del sistema, actuando como servicio central de comunicaci贸n con los usuarios.</p>
                </div>
            </section>
        </article>
    </main>
</div>

<div id="logoutModal" class="modal">
    <div class="modal-content">
        <h2>Confirmar Cierre de Sesi贸n</h2>
        <p>驴Est谩 seguro que desea cerrar la sesi贸n?</p>
        <div class="modal-buttons">
            <form method="post" th:action="@{/logout}">
                <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>
                <button id="confirmLogout" type="submit">Confirmar</button>
            </form>
            <button id="cancelLogout">Cancelar</button>
        </div>
    </div>
</div>
<script th:src="@{/js/documentation.js}"></script>
<script th:src="@{/js/logout.js}"></script>
</body>
</html>